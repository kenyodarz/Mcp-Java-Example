# Seguridad

> **‚ö†Ô∏è Importante**: La seguridad es cr√≠tica. No expongas credenciales en el c√≥digo ni en esta documentaci√≥n.

## üîê Autenticaci√≥n

El servidor utiliza los siguientes mecanismos para verificar la identidad de quien llama:

- **Tipo**: (Ej. OAuth2, Basic Auth, API Key, o "Ninguna para desarrollo local")
- **Configuraci√≥n**: Describe d√≥nde se configuran las credenciales (ej. `application.yml` o variables de entorno).

> **üìù Instrucci√≥n**: Explica c√≥mo un usuario debe configurar su cliente (Claude/Cursor) para conectarse de forma segura.

### Variables de Entorno Requeridas

| Variable | Descripci√≥n | Ejemplo |
|----------|-------------|---------|
| `MCP_API_KEY` | Llave maestra para acceso | `sk-12345...` |
| `DB_PASSWORD` | Contrase√±a de base de datos | `********` |

---

## üõ°Ô∏è Autorizaci√≥n (Roles y Permisos)

¬øQui√©n puede hacer qu√©?

- **ADMIN**: Acceso total a todas las herramientas.
- **USER**: Acceso solo a consultas (lectura).

> **üìù Para Dummies**:
> - Si usas `@PreAuthorize("hasRole('ADMIN')")` en tu c√≥digo, ponlo aqu√≠.
> - Si no tienes roles, indica claramente: "Actualmente todos los usuarios tienen acceso completo".

---

## üîí Manejo de Datos Sensibles

Reglas para el manejo de informaci√≥n (PII, financiera, etc.):

1. **Logs**: Nunca loguear n√∫meros de tarjetas o contrase√±as.
2. **Tr√°nsito**: Usar siempre HTTPS en producci√≥n.
3. **Almacenamiento**: Las contrase√±as se guardan hasheadas (bcrypt).

---

## ÂÆ°ËÆ° (Auditor√≠a)

El sistema registra las siguientes acciones importantes:

- [x] Inicio de sesi√≥n
- [x] Ejecuci√≥n de herramientas cr√≠ticas (ej. transferencias)
- [ ] Consultas de solo lectura (Opcional)

Los logs de auditor√≠a se env√≠an a: `Console` / `Elasticsearch` / `Archivo`.
